# KALE Weather Farming System - Environment Configuration
# Copy this file to .env and fill in your actual values

# =============================================================================
# Core Application Settings
# =============================================================================
NODE_ENV=development
LOG_LEVEL=info

# =============================================================================
# Server Configuration
# =============================================================================
HOST=0.0.0.0
PORT=3000
CORS_ORIGIN=http://localhost:3000,http://localhost:3001
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001

# Security
JWT_SECRET=your-jwt-secret-key-change-in-production
JWT_EXPIRES_IN=3600
ENCRYPTION_KEY=your-encryption-key-change-in-production
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX=100

# =============================================================================
# Database Configuration (PostgreSQL)
# =============================================================================
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=kale_weather_farming
POSTGRES_USER=kale_user
POSTGRES_PASSWORD=your-secure-password
POSTGRES_SSL=false
DATABASE_POOL_SIZE=20
DATABASE_TIMEOUT_MS=30000

# =============================================================================
# Stellar Network Configuration
# =============================================================================
# Network: mainnet, testnet, or futurenet
STELLAR_NETWORK=testnet
STELLAR_RPC_URL=https://horizon-testnet.stellar.org
# Contract ID (required - starts with C)
STELLAR_CONTRACT_ID=CDLK74RF5BLYR2YBLCCI7F5FB6TPSCLKEJUBSD2RSVWZ4YHF3VMFAIGWA
# KALE Token Address (required - starts with G)  
KALE_TOKEN_ADDRESS=GDLK74RF5BLYR2YBLCCI7F5FB6TPSCLKEJUBSD2RSVWZ4YHF3VMFAIGWA

# =============================================================================
# Weather API Configuration
# =============================================================================
# OpenWeatherMap API Key (required)
OPENWEATHER_API_KEY=your-openweather-api-key
# WeatherAPI.com API Key (required)
WEATHERAPI_KEY=your-weatherapi-key
# Visual Crossing Weather API Key (required)
VISUAL_CROSSING_API_KEY=your-visual-crossing-api-key
# Default location for weather data
DEFAULT_LOCATION=New York,NY,US
# Weather data cache TTL in milliseconds
WEATHER_CACHE_TTL_MS=300000

# =============================================================================
# Farming Automation Configuration
# =============================================================================
# Automation check interval in milliseconds
FARMING_AUTOMATION_INTERVAL_MS=5000
# Blocks to wait before work can be performed
FARMING_WORK_DELAY_BLOCKS=24
# Blocks to wait before harvest can be performed  
FARMING_HARVEST_DELAY_BLOCKS=48
# Maximum errors before stopping automation
FARMING_MAX_ERRORS=10
# Minimum stake amount in stroops (0.1 KALE = 1000000)
FARMING_MIN_STAKE_AMOUNT=1000000
# Maximum stake amount in stroops (1000 KALE = 10000000000)
FARMING_MAX_STAKE_AMOUNT=10000000000

# =============================================================================
# Deposit Monitoring Configuration  
# =============================================================================
# Deposit monitoring interval in milliseconds
DEPOSIT_MONITOR_INTERVAL_MS=10000
# Number of confirmation blocks required
DEPOSIT_CONFIRMATION_BLOCKS=2

# =============================================================================
# Cycle Configuration
# =============================================================================
# Total blocks per farming cycle
CYCLE_LENGTH_BLOCKS=500
# Starting block for cycle calculations
CYCLE_START_BLOCK=1000000
# Blocks allocated for planting phase
CYCLE_PLANTING_BLOCKS=200
# Blocks allocated for working phase
CYCLE_WORKING_BLOCKS=200
# Blocks allocated for revealing phase  
CYCLE_REVEALING_BLOCKS=50
# Blocks allocated for settling phase
CYCLE_SETTLING_BLOCKS=50

# =============================================================================
# Weather Integration Settings
# =============================================================================  
# Multiplier for GOOD weather (1.5 = 50% bonus)
WEATHER_GOOD_MULTIPLIER=1.5
# Multiplier for BAD weather (0.5 = 50% penalty)
WEATHER_BAD_MULTIPLIER=0.5
# Maximum confidence bonus (0.25 = up to 25% additional)
WEATHER_CONFIDENCE_BONUS_MAX=0.25

# =============================================================================
# Debug Settings
# =============================================================================
# Enable debug endpoints in development
ENABLE_DEBUG_ENDPOINTS=false
# Enable detailed logging
DETAILED_LOGGING=false

# =============================================================================
# Optional Configuration Examples
# =============================================================================
# Custom API timeout
# BACKEND_TIMEOUT=30000

# Production CORS origins (comma-separated)
# CORS_ORIGIN=https://yourdomain.com,https://app.yourdomain.com
