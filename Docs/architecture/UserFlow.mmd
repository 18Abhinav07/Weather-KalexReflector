flowchart TD
    A[ðŸ‘¤ User Enters System] --> B{Has KALE Tokens?}
    B -->|No| B1[ðŸ”„ Get KALE from Farm/Exchange]
    B -->|Yes| C[ðŸ“Š Check Current Cycle Status]
    
    B1 --> C
    
    C --> D{Cycle Phase?}
    D -->|Block 1| D1[â³ Wait for DAO Vote Reveal]
    D -->|Block 2-5| E[ðŸŽ¯ Full Participation Phase]
    D -->|Block 6-9| F[ðŸŒ± Farm Actions Only]
    D -->|Block 10+| G[â° Wait for Next Cycle]
    
    D1 --> H[Block 2: DAO Votes Revealed]
    E --> I[ðŸ“ˆ Analyze Available Information]
    F --> J[ðŸŒ± Farm Decision Only]
    G --> K[ðŸ’° Check Previous Rewards]
    
    H --> I
    K --> A
    
    I --> I1[ðŸ“Š Review DAO Predictions]
    I --> I2[ðŸ“ˆ Analyze DAO Historical Accuracy]
    I --> I3[ðŸ’° Check Current Betting Patterns]
    I --> I4[ðŸ¦ Review Pool Health Status]
    
    I1 --> L[ðŸŽ² Make Strategic Decision]
    I2 --> L
    I3 --> L  
    I4 --> L
    
    L --> M{What Actions?}
    M -->|Farming Only| M1[ðŸŒ± Choose Farm Strategy]
    M -->|Wagering Only| M2[ðŸŽ² Choose Wager Strategy]
    M -->|Both| M3[ðŸ”€ Choose Farm + Wager Strategy]
    
    M1 --> N1{Farm Strategy?}
    N1 -->|High Risk| N1A[ðŸŒ± PLANT Strategy]
    N1 -->|Conservative| N1B[ðŸ  STORE Strategy] 
    N1 -->|Split| N1C[ðŸ”€ Split Between Plant/Store]
    
    M2 --> N2{Wager Strategy?}
    N2 -->|Speculation| N2A[ðŸŽ° Bet on Weather Outcome]
    N2 -->|Influence| N2B[ðŸŒŠ Large Bet to Influence]
    
    M3 --> N3[ðŸ“Š Plan Combined Strategy]
    N3 --> N3A[Choose Farm Action + Wager Direction]
    
    N1A --> O1[ðŸ’° Stake KALE for Planting]
    N1B --> O2[ðŸ’° Stake KALE for Storage]
    N1C --> O3[ðŸ’° Split KALE Between Plant/Store]
    
    N2A --> O4[ðŸ’° Stake KALE for Weather Bet]
    N2B --> O5[ðŸ’° Large KALE Stake for Influence]
    
    N3A --> O6[ðŸ’° Stake KALE for Farm + Wager]
    
    O1 --> P1[Farm Only: PLANT Risks/Rewards]
    O2 --> P2[Farm Only: STORE Risks/Rewards]  
    O3 --> P3[Farm Only: SPLIT Risks/Rewards]
    O4 --> P4[Wager Only: Weather Bet Risks/Rewards]
    O5 --> P5[Wager Only: Influence Attempt Risks/Rewards]
    O6 --> P6[Combined: Farm + Wager Risks/Rewards]
    
    P1 --> R[âœ… Confirm All Actions]
    P2 --> R
    P3 --> R
    P4 --> R
    P5 --> R
    P6 --> R
    
    R --> X[ðŸ“‹ Transaction Summary]
    X --> X1[ðŸŒ± Farm Action: Type + Amount]
    X --> X2[ðŸŽ² Wager Action: Direction + Amount] 
    X --> X3[ðŸ’¸ Total KALE at Risk]
    X --> X4[ðŸŽ¯ Potential Outcomes Range]
    
    X1 --> Y[ðŸ” Submit to Smart Contract]
    X2 --> Y
    X3 --> Y
    X4 --> Y
    
    Y --> Z{Transaction Successful?}
    Z -->|Yes| AA[âœ… Actions Recorded]
    Z -->|No| AB[âŒ Error Handling]
    
    AB --> AC[Check Balance/Permissions]
    AC --> AD{Retry Transaction?}
    AD -->|Yes| Y
    AD -->|No| AE[âŒ Exit Process]
    
    AA --> AF[â³ Wait for Cycle Resolution]
    AF --> AG[ðŸ† Block 11: Results & Rewards]
    
    AG --> AH[ðŸ“Š View Results Summary]
    AH --> AH1[ðŸŒ¤ï¸ Final Weather Outcome]
    AH --> AH2[ðŸ’° Farm Rewards/Losses]  
    AH --> AH3[ðŸŽ² Wager Rewards/Losses]
    AH --> AH4[ðŸ“ˆ Net Position Change]
    
    AH1 --> AI[ðŸ”„ Start Next Cycle?]
    AH2 --> AI
    AH3 --> AI
    AH4 --> AI
    
    AI -->|Yes| AJ[ðŸ“š Learn from Results]
    AI -->|No| AK[ðŸ Exit System]
    
    AJ --> AJ1[ðŸ“Š Update DAO Performance Tracking]
    AJ --> AJ2[ðŸŽ¯ Refine Strategy Based on Outcomes]
    AJ --> AJ3[ðŸ’¡ Analyze Market/Weather Patterns]
    
    AJ1 --> A
    AJ2 --> A
    AJ3 --> A
    
    J --> JA[ðŸŒ± Farm Decision Only]
    JA --> JB{Plant or Store?}
    JB -->|Plant| N1
    JB -->|Store| N2
    
    style A fill:#10b981,stroke:#059669,color:#fff
    style M1 fill:#ef4444,stroke:#dc2626,color:#fff
    style M2 fill:#22c55e,stroke:#16a34a,color:#fff
    style M3 fill:#3b82f6,stroke:#1e40af,color:#fff
    style AA fill:#10b981,stroke:#059669,color:#fff
    style AB fill:#ef4444,stroke:#dc2626,color:#fff
    style AG fill:#fbbf24,stroke:#f59e0b,color:#000